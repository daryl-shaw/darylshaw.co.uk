<ul>
  {% for post in site.posts %}
    {% assign currentdate = post.date | date: "%Y" %}
    {% if currentdate != date %}
      {% unless forloop.first %}</ol>{% endunless %}
      <li class="archive-year">
        <h2 class="archive-year-header"><span class="bb">{{ currentdate }}</span></h2>
      </li>

    <ol>
      {% assign date = currentdate %}
    {% endif %}
      <li class="archive-month">
        <h3 class="archive-month-header"><time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">{{ post.date | date: "%B" }}</time></h3>
        <ul class="archive-posts">
          <li>
            <a href="{{ post.url }}">{{ post.title }}</a>
          </li>
        </ul>
      </li>
    {% if forloop.last %}</ol>{% endif %}
  {% endfor %}
</ul>
